<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browse by Asset Type - Jake Troubleshoots</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Jake Troubleshoots</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="guides.html">Guides</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<section class="hero">
  <h2>Browse Guides by Asset Type</h2>
  <p>All troubleshooting guides organized by the type of equipment.</p>
</section>

<section class="browse-section">
  <h3>Asset Types</h3>
  <div id="asset-buttons" class="browse-buttons">
    <!-- Buttons injected here -->
  </div>
</section>

<section id="guides-grid" class="guides-grid" style="padding:40px; display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px;">
  <!-- Cards injected here -->
</section>

<footer>
  <p>Contact: <a href="mailto:contact@jaketroubleshoots.com" style="color:#8fff00;">contact@jaketroubleshoots.com</a></p>
  <p>Guides intended for trained personnel only.</p>
  <p>Â© 2026 Jake Troubleshoots</p>
</footer>

<script>
fetch('guides.json')
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById('guides-grid');
    const buttonsContainer = document.getElementById('asset-buttons');

    // Create a unique sorted list of asset types
    const assetTypes = [...new Set(data.map(g => g.assetType))].sort();

    // Create buttons for each asset type
    assetTypes.forEach(type => {
      const btn = document.createElement('a');
      btn.href = '#';
      btn.textContent = type;
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        showGuidesByAsset(type);
      });
      buttonsContainer.appendChild(btn);
    });

    // Function to display guides filtered by asset type
    function showGuidesByAsset(type) {
      container.innerHTML = '';
      data
        .filter(g => g.assetType === type)
        .sort((a,b) => a.title.localeCompare(b.title))
        .forEach(guide => {
          const card = document.createElement('a');
          card.href = guide.url;
          card.style.textDecoration = 'none';
          card.style.color = 'inherit';
          card.innerHTML = `
            <div class="placeholder">
              <h3>${guide.title}</h3>
              <p>${guide.description}</p>
              <p><strong>Asset Type:</strong> ${guide.assetType}</p>
              <p><strong>Manufacturer:</strong> ${guide.manufacturer}</p>
              <p><strong>Model:</strong> ${guide.model}</p>
            </div>
          `;
          container.appendChild(card);
        });
    }

    // Optionally, show the first asset type guides by default
    if(assetTypes.length > 0) showGuidesByAsset(assetTypes[0]);
  });
</script>

</body>
</html>
